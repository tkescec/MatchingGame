function setWindow(){flexContainer.style.height=windowHeight-100+"px"}function startGame(){resetInitial();clearWindows();generateFaces();cloneFaces();counter(initialTime)}function counter(n){function i(){if(n--,timeBox.innerHTML=n,n<0){clearInterval(t);var i=confirm("Game Over!\n\nYour score is: "+points+"\nOn level: "+initialLevel+"\n\nDo you want play again?");i?startGame():(body.onclick=null,resetInitial(),clearWindows(),startBtn.style.opacity=1,startBtn.onclick=function(){startGame()})}else leftSide.lastChild.onclick=function(i){i.stopPropagation();clearInterval(t);numberOfFaces+=5;initialLevel++;points=points+2*initialLevel;n=initialTime*(initialLevel/2);resetValue(n,initialLevel,points);count=0;clearWindows();generateFaces();cloneFaces();counter(n)},body.onclick=function(){clearInterval(t);var n=confirm("Game Over!\n\nYour score is: "+points+"\nOn level: "+initialLevel+"\n\nDo you want play again?");n?startGame():(body.onclick=null,leftSide.lastChild.onclick=null,resetInitial(),clearWindows(),startBtn.style.opacity=1,startBtn.onclick=function(){startGame()})}}startBtn.style.opacity=.5;startBtn.onclick=null;var t=setInterval(i,1e3)}function resetInitial(){initialTime=10;initialLevel=1;numberOfFaces=5;count=0;points=0;resetValue(initialTime,initialLevel,points)}function resetValue(n,t,i){timeBox.innerHTML=n;levelBox.innerHTML=t;pointsBox.innerHTML=i}function generateFaces(){for(var t,i,n;count<numberOfFaces;)t=Math.random()*(windowHeight-200),t=Math.floor(t),i=Math.random()*(windowWidth/2-100),i=Math.floor(i),n=document.createElement("img"),n.src="img/smile.png",n.style.top=t+"px",n.style.left=i+"px",leftSide.appendChild(n),count++}function cloneFaces(){var n=leftSide.cloneNode(!0);n.removeChild(n.lastChild);n.removeAttribute("id");rightSide.appendChild(n)}function clearWindows(){while(leftSide.firstChild)leftSide.removeChild(leftSide.firstChild);while(rightSide.firstChild)rightSide.removeChild(rightSide.firstChild)}var initialTime=10,initialLevel=1,numberOfFaces=5,count=0,points=0,windowHeight=window.innerHeight,windowWidth=window.innerWidth,flexContainer=document.getElementById("flex-container"),timeBox=document.getElementById("time"),levelBox=document.getElementById("level"),pointsBox=document.getElementById("points"),startBtn=document.getElementById("start-game"),leftSide=document.getElementById("left-side"),rightSide=document.getElementById("right-side"),body=document.getElementsByTagName("body")[0];timeBox.innerHTML=initialTime;levelBox.innerHTML=initialLevel;pointsBox.innerHTML=points;window.addEventListener("load",setWindow);startBtn.onclick=function(){startGame()};